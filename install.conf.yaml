# default settings for linking
-   defaults:
        link:
            create: true
            force: true
            relink: true

# start by cleaning existing configurations
-   clean:
        - '~'
        - '~/.config'

# update git submodules
-   shell:
        - [git submodule update --init --recursive, Installing submodules]

# link configuration files
-   link:
        # shell
        ~/.config/fish/functions: fish/functions
        ~/.config/omf: omf
        ~/.ssh/config: ssh/config

        # ruby
        ~/.gemrc: ruby/gemrc

        # git
        ~/.gitconfig: git/gitconfig
        ~/.gitconfig-work: git/gitconfig-work

        # vim
        ~/.vim: vim/config
        ~/.vimrc: vim/vimrc
        ~/.ideavimrc: vim/ideavimrc

        # nvim
        ~/.config/nvim: nvim

        # karabiner
        ~/.config/karabiner/karabiner.json: karabiner/karabiner.json

        # emacs
        ~/.spacemacs: emacs/spacemacs

# set up the home directory structure
-   create:
        - projects
        - projects/work

# install brew (automatic install does not work)
-   shell:
        - command: scripts/install/brew.sh
          description: Install brew
          stdout: true

# install fish shell
-   shell:
        - command: scripts/install/fish.sh
          description: Install fish shell
          stdout: true

# set up OMF
-   shell:
        - command: scripts/install/omf.sh
          description: Installing OMF
          stdout: true
        - command: fish -c "omf install"
          description: Installing OMF packages
          stdout: true
        - command: fish -c "omf theme agnoster"
          description: Setting OMF theme to agnoster
          stdout: true

# install brew packages
- brewfile:
      - brew/Brewfile

# space up spacemacs for emacs
- shell:
    - command: scripts/install/emacs.sh
      description: Installing spacemacs
      stdout: true

